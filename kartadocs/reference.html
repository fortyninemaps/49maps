

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Package reference &mdash; karta 0.6.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="karta 0.6.1 documentation" href="index.html"/>
        <link rel="prev" title="Karta tutorial" href="tutorial.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="karta-manual.html" class="icon icon-home"> karta
          

          
          </a>

          
            
            
              <div class="version">
                0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Karta tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#vector-data">Vector data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#associated-data">Associated data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#visualizing-and-importing-exporting-data">Visualizing and importing/exporting data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#raster-data">Raster data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Package reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#raster-package-karta-raster">Raster package (<code class="docutils literal"><span class="pre">karta.raster</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#regulargrid">RegularGrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#warpedgrid">WarpedGrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simpleband">SimpleBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compressedband">CompressedBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-karta.raster.misc">Miscellaneous raster functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-karta.vector.read">Raster IO modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-karta.raster._gtiff">GeoTiff (GDAL interface)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-karta.raster._aai">ESRI ASCII grids</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vector-package-karta-vector">Vector package (<code class="docutils literal"><span class="pre">karta.vector</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-karta.vector.geometry">Geometry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#point">Point</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multipoint">Multipoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#line">Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#polygon">Polygon</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-karta.vector.table">Metadata tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trees">Trees</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-karta.vector.quadtree">Quadtree</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-karta.vector.rtree">R-Tree</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-karta.vector.read">Vector IO modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-karta.vector.geojson">GeoJSON</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-karta.vector.shp">ESRI shapefile (GDAL interface)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#managing-coordinate-systems">Managing coordinate systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-karta.crs">CRS (<code class="docutils literal"><span class="pre">karta.crs</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geodesy-karta-geodesy">Geodesy (<code class="docutils literal"><span class="pre">karta.geodesy</span></code>)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="karta-manual.html">karta</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="karta-manual.html">Docs</a> &raquo;</li>
      
    <li>Package reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/reference.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="package-reference">
<h1>Package reference<a class="headerlink" href="#package-reference" title="Permalink to this headline">¶</a></h1>
<p>This is a nearly-exhaustive listing of <em>karta</em> classes and function. Some
experimental, deprecated, or private components are excluded.</p>
<div class="section" id="raster-package-karta-raster">
<h2>Raster package (<code class="docutils literal"><span class="pre">karta.raster</span></code>)<a class="headerlink" href="#raster-package-karta-raster" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">karta.raster</span></code> package provides <em>Grid</em> classes as well as readers for ESRI
ASCII grids and GeoTiff files. The most commonly used <em>Grid</em> subclass is
<em>RegularGrid</em>, which can efficiently handle gridded datasets with constant
offsets between nodes. <em>Grids</em> support geographically-aware clipping, sampling,
and profile extraction.</p>
<p>A more specialized grid class, <em>WarpedGrid</em>, is experimental.</p>
<span class="target" id="module-karta.raster.grid"></span><p>Classes for basic grid types</p>
<dl class="class">
<dt id="karta.raster.grid.Grid">
<em class="property">class </em><code class="descclassname">karta.raster.grid.</code><code class="descname">Grid</code><a class="reference internal" href="_modules/karta/raster/grid.html#Grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.Grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Grid base class. Intended only for implementing subclasses. The primary
attributes defined by all Grid-derived classed are _hdr and data.</p>
<dl class="method">
<dt id="karta.raster.grid.Grid.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#Grid.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.Grid.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a function <em>func</em> to grid values</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.Grid.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#Grid.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.Grid.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.Grid.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#Grid.max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.Grid.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum non-nan in self.data.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.Grid.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#Grid.min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.Grid.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum non-nan in self.data.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.Grid.minmax">
<code class="descname">minmax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#Grid.minmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.Grid.minmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum and maximum value of data array.</p>
</dd></dl>

</dd></dl>

<div class="section" id="regulargrid">
<h3>RegularGrid<a class="headerlink" href="#regulargrid" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="karta.raster.grid.RegularGrid">
<em class="property">class </em><code class="descclassname">karta.raster.grid.</code><code class="descname">RegularGrid</code><span class="sig-paren">(</span><em>transform</em>, <em>values=None</em>, <em>bands=None</em>, <em>crs=None</em>, <em>nodata_value=None</em>, <em>bandclass=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Regular (structured) grid class. A RegularGrid contains a fixed number
of rows and columns with a constant spacing and a list of bands
representing scalar fields.</p>
<p>Positions on a RegularGrid are referenced to their array indices <em>(i,j)</em>
using an affine transform <em>T</em> such that</p>
<p>(a, b, c, d, e, f) = T</p>
<p>X = a + j * c + i * e
Y = b + i * d + j * f</p>
<p>in which <em>(a,b)</em> defines the lower-left grid cell corner, <em>(c,d)</em> defines
the resolution in the horizontal and vertical directions, and <em>(e,f)</em> can
be used to define a rotation. In the common case of a &#8220;north-up&#8221; grid,</p>
<p>e = f = 0</p>
<dl class="method">
<dt id="karta.raster.grid.RegularGrid.as_warpedgrid">
<code class="descname">as_warpedgrid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.as_warpedgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.as_warpedgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of grid as a <cite>WarpedGrid</cite>. This is a more general
grid class that has a larger memory footprint but can represent more
flexible data layouts.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.aschunks">
<code class="descname">aschunks</code><span class="sig-paren">(</span><em>size=(-1</em>, <em>-1)</em>, <em>overlap=(0</em>, <em>0)</em>, <em>copy=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.aschunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.aschunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for grid chunks of <em>size</em> and <em>overlap</em>.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.center_llref">
<code class="descname">center_llref</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.center_llref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.center_llref" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8216;lower-left&#8217; reference in terms of a center coordinate.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.clip">
<code class="descname">clip</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>ymin</em>, <em>ymax</em>, <em>crs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a clipped version of grid with cell centers constrained to a
bounding box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xmin</strong> : float</p>
<p><strong>xmax</strong> : float</p>
<p><strong>ymin</strong> : float</p>
<p><strong>ymax</strong> : float</p>
<p class="last"><strong>crs</strong> : karta.crs.CRS subclass, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.coordmesh">
<code class="descname">coordmesh</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.coordmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.coordmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for center_coords()</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.corner_llref">
<code class="descname">corner_llref</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.corner_llref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.corner_llref" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8216;lower-left&#8217; reference in terms of a center coordinate.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.raster.grid.RegularGrid.data_mask">
<code class="descname">data_mask</code><a class="headerlink" href="#karta.raster.grid.RegularGrid.data_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>8-bit mask of valid data cells</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.get_data_extent">
<code class="descname">get_data_extent</code><span class="sig-paren">(</span><em>reference='center'</em>, <em>nodata=None</em>, <em>crs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.get_data_extent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.get_data_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the region characteristics as a tuple (xmin, xmax, ymin,
ymax).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>reference</strong> : string</p>
<blockquote>
<div><p>either &#8216;center&#8217; or &#8216;edge&#8217;.</p>
</div></blockquote>
<p class="last"><strong>crs</strong> : karta.crs.CRS subclass</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.get_extent">
<code class="descname">get_extent</code><span class="sig-paren">(</span><em>reference='center'</em>, <em>crs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.get_extent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.get_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the region characteristics as a tuple (xmin, xmax, ymin,
ymax).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>reference</strong> : string</p>
<blockquote>
<div><p>either &#8216;center&#8217; or &#8216;edge&#8217;.</p>
</div></blockquote>
<p class="last"><strong>crs</strong> : karta.crs.CRS subclass</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.get_indices">
<code class="descname">get_indices</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.get_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.get_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integer column and row indices for the point nearest
geographical coordinates (<cite>x</cite>, <cite>y</cite>). Raises GridError if points outside
grid bounding box.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.get_positions">
<code class="descname">get_positions</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.get_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.get_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the float column and row indices for the point nearest
geographical coordinates (x, y).</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.mask_by_poly">
<code class="descname">mask_by_poly</code><span class="sig-paren">(</span><em>polys</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.mask_by_poly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.mask_by_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a grid with all elements outside the bounds of a polygon
masked by nodata</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.profile">
<code class="descname">profile</code><span class="sig-paren">(</span><em>line</em>, <em>resolution=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample along a <em>line</em> at <em>resolution</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>line</strong> : karta.Line</p>
<blockquote>
<div><p>defines the sampling path</p>
</div></blockquote>
<p><strong>resolution</strong> : float, optional</p>
<blockquote>
<div><p>sample spacing, taken to be the minimum grid resolution by default</p>
</div></blockquote>
<p><strong>Additional keyword arguments passed to `RegularGrid.sample` (e.g. to</strong></p>
<p class="last"><strong>specify sampling method)</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.resample">
<code class="descname">resample</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em>, <em>method='nearest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample array to have spacing <cite>dx</cite>, <a href="#id1"><span class="problematic" id="id2">`</span></a>dy&#8217;. The grid origin remains
in the same position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dx</strong> : float</p>
<blockquote>
<div><p>cell dimension 1</p>
</div></blockquote>
<p><strong>dy</strong> : float</p>
<blockquote>
<div><p>cell dimension 2</p>
</div></blockquote>
<p><strong>method</strong> : str, optional</p>
<blockquote class="last">
<div><p>interpolation method, currenlt only &#8216;nearest&#8217; supported</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.resample_griddata">
<code class="descname">resample_griddata</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em>, <em>method='nearest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.resample_griddata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.resample_griddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample array to have spacing <cite>dx</cite>, <a href="#id3"><span class="problematic" id="id4">`</span></a>dy&#8217; using <em>scipy.griddata</em></p>
<p>Warning: This method is likely to be removed in the future, once
the built-in <cite>resample</cite> method matures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dx</strong> : float</p>
<blockquote>
<div><p>cell dimension 1</p>
</div></blockquote>
<p><strong>dy</strong> : float</p>
<blockquote>
<div><p>cell dimension 2</p>
</div></blockquote>
<p><strong>method</strong> : str, optional</p>
<blockquote class="last">
<div><p>interpolation method, one of &#8216;nearest&#8217;, &#8216;linear&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.resize">
<code class="descname">resize</code><span class="sig-paren">(</span><em>bboxnew</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.resize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new grid grid with outer edges given by a bounding box.</p>
<p>If the grid origin shifts by a non-integer factor of the grid
resolution, nearest neighbour values are selected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bboxnew</strong> : 4-tuple of floats</p>
<blockquote class="last">
<div><p>(xmin, ymin, xmax, ymax).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the values nearest positions. Positions may be:</p>
<ul class="simple">
<li>a karta.Point instance</li>
<li>a karta.Multipoint instance, or</li>
<li>a pair of x, y coordinate lists</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>positions</strong> : karta.Point, karta.Multipoint, or two lists of floats</p>
<blockquote>
<div><p>see above</p>
</div></blockquote>
<p><strong>crs</strong> : karta.crs.CRS, optional</p>
<blockquote>
<div><p>used when coordinate lists are provided, otherwise the coordinate
system is taken from the crs attribute of the geometry</p>
</div></blockquote>
<p><strong>method</strong> : string, optional</p>
<blockquote class="last">
<div><p>may be one of &#8216;nearest&#8217;, &#8216;bilinear&#8217; (default).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.sample_bilinear">
<code class="descname">sample_bilinear</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.sample_bilinear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.sample_bilinear" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value nearest to (<cite>x</cite>, <cite>y</cite>). Bilinear sampling scheme.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.sample_nearest">
<code class="descname">sample_nearest</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.sample_nearest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.sample_nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value nearest to (<cite>x</cite>, <cite>y</cite>). Nearest grid center
sampling scheme.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.set_nodata_value">
<code class="descname">set_nodata_value</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.set_nodata_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.set_nodata_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Redefine value used to indicate nodata.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>val</strong> : number</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.to_aai">
<code class="descname">to_aai</code><span class="sig-paren">(</span><em>f</em>, <em>reference='corner'</em>, <em>nodata_value=-9999</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.to_aai"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.to_aai" title="Permalink to this definition">¶</a></dt>
<dd><p>Save internal data as an ASCII grid. Based on the ESRI standard,
only isometric grids (i.e. <cite>hdr[&#8216;dx&#8217;] == hdr[&#8216;dy&#8217;]</cite> can be saved,
otherwise <cite>GridIOError</cite> is thrown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : str</p>
<blockquote>
<div><p>a file-like object or a filename</p>
</div></blockquote>
<p><strong>reference</strong> : str</p>
<blockquote>
<div><p>specify a header reference (&#8216;center&#8217; | &#8216;corner&#8217;)</p>
</div></blockquote>
<p><strong>nodata_value</strong> : number</p>
<blockquote class="last">
<div><p>specify how NaNs should be represented</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.to_gtiff">
<code class="descname">to_gtiff</code><span class="sig-paren">(</span><em>fnm</em>, <em>compress='PACKBITS'</em>, <em>tiled=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.to_gtiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.to_gtiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a GeoTiff file using GDAL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fnm</strong> : str</p>
<blockquote>
<div><p>output file name</p>
</div></blockquote>
<p><strong>compress: str or None, optional</strong></p>
<blockquote class="last">
<div><p>&#8220;PACKBITS&#8221; (default), &#8220;DEFLATE&#8221;, &#8220;LZW&#8221;, &#8220;LZMA&#8221;, or None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.raster.grid.RegularGrid.vertex_coords">
<code class="descname">vertex_coords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#RegularGrid.vertex_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.grid.RegularGrid.vertex_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates of cell vertices.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="warpedgrid">
<h3>WarpedGrid<a class="headerlink" href="#warpedgrid" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="karta.raster.WarpedGrid">
<em class="property">class </em><code class="descclassname">karta.raster.</code><code class="descname">WarpedGrid</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>values</em>, <em>crs=None</em>, <em>nodata_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#WarpedGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.WarpedGrid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="karta.raster.WarpedGrid.resample">
<code class="descname">resample</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#WarpedGrid.resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.WarpedGrid.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample internal grid to the points defined by <em>X</em>, <em>Y</em>.</p>
</dd></dl>

<dl class="method">
<dt id="karta.raster.WarpedGrid.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>deg</em>, <em>origin=(0.0</em>, <em>0.0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/grid.html#WarpedGrid.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.WarpedGrid.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate grid by <em>deg</em> degrees counter-clockwise around <em>origin</em>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="simpleband">
<h3>SimpleBand<a class="headerlink" href="#simpleband" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="karta.raster.band.SimpleBand">
<em class="property">class </em><code class="descclassname">karta.raster.band.</code><code class="descname">SimpleBand</code><span class="sig-paren">(</span><em>size</em>, <em>dtype</em>, <em>initval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/band.html#SimpleBand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.band.SimpleBand" title="Permalink to this definition">¶</a></dt>
<dd><p>SimpleBand wraps a numpy.ndarray for storage.</p>
</dd></dl>

</div>
<div class="section" id="compressedband">
<h3>CompressedBand<a class="headerlink" href="#compressedband" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="karta.raster.band.CompressedBand">
<em class="property">class </em><code class="descclassname">karta.raster.band.</code><code class="descname">CompressedBand</code><span class="sig-paren">(</span><em>size</em>, <em>dtype</em>, <em>chunksize=(256</em>, <em>256)</em>, <em>initval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/band.html#CompressedBand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.band.CompressedBand" title="Permalink to this definition">¶</a></dt>
<dd><p>CompressedBand is a chunked, blosc-compressed array.</p>
</dd></dl>

</div>
<div class="section" id="module-karta.raster.misc">
<span id="miscellaneous-raster-functions"></span><h3>Miscellaneous raster functions<a class="headerlink" href="#module-karta.raster.misc" title="Permalink to this headline">¶</a></h3>
<p>2D raster functions</p>
<dl class="function">
<dt id="karta.raster.misc.hillshade">
<code class="descclassname">karta.raster.misc.</code><code class="descname">hillshade</code><span class="sig-paren">(</span><em>grid</em>, <em>azimuth=330.0</em>, <em>elevation=60.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/misc.html#hillshade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.misc.hillshade" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a hill-shaded version of <em>grid</em>.</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster.misc.pad">
<code class="descclassname">karta.raster.misc.</code><code class="descname">pad</code><span class="sig-paren">(</span><em>A</em>, <em>width=1</em>, <em>edges='all'</em>, <em>value=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/misc.html#pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.misc.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply padding to a 2D array.
<em>A</em>         :   array to pad
<em>width</em>     :   thickness of padding
<em>edges</em>     :   &#8220;all&#8221;, &#8220;left&#8221;, &#8220;right&#8221;, &#8220;top&#8221;, &#8220;bottom&#8221;
<a href="#id5"><span class="problematic" id="id6">*</span></a>value&#8221;     :   0.0, value to pad with</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster.misc.slope">
<code class="descclassname">karta.raster.misc.</code><code class="descname">slope</code><span class="sig-paren">(</span><em>grid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/misc.html#slope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.misc.slope" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the scalar slope at each pixel. Use the neighbourhood
method.
<a class="reference external" href="http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?TopicName=How%20Slope%20works">http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?TopicName=How%20Slope%20works</a></p>
</dd></dl>

<dl class="function">
<dt id="karta.raster.misc.viewshed">
<code class="descclassname">karta.raster.misc.</code><code class="descname">viewshed</code><span class="sig-paren">(</span><em>D</em>, <em>i</em>, <em>j</em>, <em>r=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/misc.html#viewshed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.misc.viewshed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the viewshed on <em>D</em> at (i,j).</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster.misc.witch_of_agnesi">
<code class="descclassname">karta.raster.misc.</code><code class="descname">witch_of_agnesi</code><span class="sig-paren">(</span><em>nx=100</em>, <em>ny=100</em>, <em>a=4.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/misc.html#witch_of_agnesi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster.misc.witch_of_agnesi" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Return a raster field defined by the equation</dt>
<dd><blockquote class="first">
<div>8 a^3</div></blockquote>
<dl class="last docutils">
<dt>Z = &#8212;&#8212;&#8212;&#8212;&#8211;</dt>
<dd>d^2 + 4 a*2</dd>
</dl>
</dd>
</dl>
<p>where d is the distance from the center.</p>
</dd></dl>

</div>
<div class="section" id="module-karta.vector.read">
<span id="raster-io-modules"></span><h3>Raster IO modules<a class="headerlink" href="#module-karta.vector.read" title="Permalink to this headline">¶</a></h3>
<p>Convenience reader functions</p>
<dl class="function">
<dt id="karta.vector.read.from_shape">
<code class="descclassname">karta.vector.read.</code><code class="descname">from_shape</code><span class="sig-paren">(</span><em>obj</em>, <em>properties=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#from_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.read.from_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a __geo_interface__ dictionary and return an appropriate karta
object</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.read.get_filenames">
<code class="descclassname">karta.vector.read.</code><code class="descname">get_filenames</code><span class="sig-paren">(</span><em>stem</em>, <em>check=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#get_filenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.read.get_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a filename basename, return the associated shapefile paths. If
<cite>check</cite> is True, ensure that the files exist.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.read.ogr_parse_srs">
<code class="descclassname">karta.vector.read.</code><code class="descname">ogr_parse_srs</code><span class="sig-paren">(</span><em>lyr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#ogr_parse_srs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.read.ogr_parse_srs" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an OGR type with a <cite>GetSpatialRef</cite> method, return a matching CRS
object.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.read.read_geojson">
<code class="descclassname">karta.vector.read.</code><code class="descname">read_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>crs=&lt;karta.crs.GeographicalCRS object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#read_geojson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.read.read_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse GeoJSON and return a list of geometries.</p>
<dl class="docutils">
<dt>f</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">file-like object or str</span><dd>file object to read from or a GeoJSON string</dd>
<dt>crs</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">karta.crs.CRS</span><dd>CRS object to bind to new geometries</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="karta.vector.read.read_xyfile">
<code class="descclassname">karta.vector.read.</code><code class="descname">read_xyfile</code><span class="sig-paren">(</span><em>f</em>, <em>delimiter=''</em>, <em>header_rows=0</em>, <em>astype=&lt;class 'karta.vector.geometry.Multipoint'&gt;</em>, <em>coordrank=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#read_xyfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.read.read_xyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an ASCII delimited table and return a geometry object given by <em>astype</em>.</p>
</dd></dl>

<div class="section" id="module-karta.raster._gtiff">
<span id="geotiff-gdal-interface"></span><h4>GeoTiff (GDAL interface)<a class="headerlink" href="#module-karta.raster._gtiff" title="Permalink to this headline">¶</a></h4>
<p>IO interface to GeoTiffs using GDAL.</p>
<dl class="class">
<dt id="karta.raster._gtiff.GdalFileBand">
<em class="property">class </em><code class="descclassname">karta.raster._gtiff.</code><code class="descname">GdalFileBand</code><span class="sig-paren">(</span><em>band</em>, <em>dataset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#GdalFileBand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.GdalFileBand" title="Permalink to this definition">¶</a></dt>
<dd><p>Imitates an ndarray well-enough to back a Grid instance, but reads data
from an disk-bound datasource</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._gtiff.SRS_from_WKT">
<code class="descclassname">karta.raster._gtiff.</code><code class="descname">SRS_from_WKT</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#SRS_from_WKT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.SRS_from_WKT" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Proj.4 string, semimajor axis, and flattening</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._gtiff.gdal_type">
<code class="descclassname">karta.raster._gtiff.</code><code class="descname">gdal_type</code><span class="sig-paren">(</span><em>dtype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#gdal_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.gdal_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a GDAL type that matches numpy dtype</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._gtiff.numpy_dtype">
<code class="descclassname">karta.raster._gtiff.</code><code class="descname">numpy_dtype</code><span class="sig-paren">(</span><em>dt_int</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#numpy_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.numpy_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy dtype that matches the band data type.</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._gtiff.py_type">
<code class="descclassname">karta.raster._gtiff.</code><code class="descname">py_type</code><span class="sig-paren">(</span><em>dt_int</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#py_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.py_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a fmt character based on a gdal type integer.</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._gtiff.read">
<code class="descclassname">karta.raster._gtiff.</code><code class="descname">read</code><span class="sig-paren">(</span><em>fnm</em>, <em>in_memory</em>, <em>ibands=-1</em>, <em>bandclass=&lt;class 'karta.raster.band.CompressedBand'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a GeoTiff file and return a numpy array and a dictionary of header
information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fnm</strong> : str</p>
<blockquote>
<div><p>input datasource</p>
</div></blockquote>
<p><strong>in_memory</strong> : boolean</p>
<blockquote>
<div><p>indicates whether array should be read fully into memory</p>
</div></blockquote>
<p><strong>ibands</strong> : int or list of ints</p>
<blockquote>
<div><p>band number (1...)</p>
</div></blockquote>
<p><strong>bandclass</strong> : karta.raster.band class</p>
<blockquote>
<div><p>if <em>in_memory</em> is <cite>False</cite>, use this class for band storage</p>
</div></blockquote>
<p class="last"><strong>Returns an band object and a dictionary of metadata</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.raster._gtiff.write">
<code class="descclassname">karta.raster._gtiff.</code><code class="descname">write</code><span class="sig-paren">(</span><em>fnm</em>, <em>grid</em>, <em>compress=None</em>, <em>tiled=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_gtiff.html#write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._gtiff.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a grid-like object to <em>fnm</em></p>
</dd></dl>

</div>
<div class="section" id="module-karta.raster._aai">
<span id="esri-ascii-grids"></span><h4>ESRI ASCII grids<a class="headerlink" href="#module-karta.raster._aai" title="Permalink to this headline">¶</a></h4>
<p>Low-level functions for reading ESRI ASCII grids</p>
<dl class="exception">
<dt id="karta.raster._aai.AAIIOError">
<em class="property">exception </em><code class="descclassname">karta.raster._aai.</code><code class="descname">AAIIOError</code><span class="sig-paren">(</span><em>value</em>, <em>detail=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_aai.html#AAIIOError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._aai.AAIIOError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exceptions related to ESRI ASCII grid driver.</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._aai.aairead">
<code class="descclassname">karta.raster._aai.</code><code class="descname">aairead</code><span class="sig-paren">(</span><em>fnm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_aai.html#aairead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._aai.aairead" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an existing ASCII grid file and return a Numpy array and a
dictionary of header information.</p>
</dd></dl>

<dl class="function">
<dt id="karta.raster._aai.check_header">
<code class="descclassname">karta.raster._aai.</code><code class="descname">check_header</code><span class="sig-paren">(</span><em>hdr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/raster/_aai.html#check_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.raster._aai.check_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure that all required header records are present, as well as both
centered and corner spatial references.</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="vector-package-karta-vector">
<h2>Vector package (<code class="docutils literal"><span class="pre">karta.vector</span></code>)<a class="headerlink" href="#vector-package-karta-vector" title="Permalink to this headline">¶</a></h2>
<p>The package <code class="docutils literal"><span class="pre">karta.vector</span></code> provides a <em>Geometry</em> class, subclasses for
<em>Point</em>, <em>Line</em>, <em>Polygon</em>, and <em>Multipoint</em> types, as well as readers and
writers for ESRI shapefiles, GeoJSON, and GPX files.</p>
<p>All concrete geometries support the <a class="reference external" href="https://gist.github.com/sgillies/2217756">__geo_interface__</a> attribute, and map to
<em>Point</em>, <em>MultiPoint</em>, <em>LineString</em>, and <em>Polygon</em> types, respectively.</p>
<div class="section" id="module-karta.vector.geometry">
<span id="geometry"></span><h3>Geometry<a class="headerlink" href="#module-karta.vector.geometry" title="Permalink to this headline">¶</a></h3>
<p>Geographical measurement and simple analysis module for Python. Provides
Point, Multipoint, Line, and Polygon classes, with methods for simple
measurements such as distance, area, and bearing.</p>
<dl class="class">
<dt id="karta.vector.geometry.Geometry">
<em class="property">class </em><code class="descclassname">karta.vector.geometry.</code><code class="descname">Geometry</code><span class="sig-paren">(</span><em>crs=&lt;karta.crs.CartesianCRS object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geometry.Geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the abstract base class for all geometry types</p>
<dl class="method">
<dt id="karta.vector.geometry.Geometry.to_geojson">
<code class="descname">to_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>indent=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Geometry.to_geojson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geometry.Geometry.to_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a GeoJSON string to a file-like object <cite>f</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : file-like object to recieve the GeoJSON string</p>
<p><strong>*kwargs* include:</strong></p>
<p><strong>crs</strong> : coordinate reference system</p>
<p class="last"><strong>bbox</strong> : an optional bounding box tuple in the form (w,e,s,n)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geometry.Geometry.to_shapefile">
<code class="descname">to_shapefile</code><span class="sig-paren">(</span><em>fnm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Geometry.to_shapefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geometry.Geometry.to_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save line to a shapefile</p>
</dd></dl>

</dd></dl>

<div class="section" id="point">
<h4>Point<a class="headerlink" href="#point" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="karta.vector.Point">
<em class="property">class </em><code class="descclassname">karta.vector.</code><code class="descname">Point</code><span class="sig-paren">(</span><em>coords</em>, <em>data=None</em>, <em>properties=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point" title="Permalink to this definition">¶</a></dt>
<dd><p>Point object instantiated with:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : 2-tuple or 3-tuple</p>
<p><strong>data</strong> : list, dict, Table object, or None</p>
<blockquote>
<div><p>point-specific data [default None]</p>
</div></blockquote>
<p><strong>properties</strong> : dict or None</p>
<blockquote>
<div><p>geometry specific data [default None]</p>
</div></blockquote>
<p><strong>crs</strong> : karta.crs.CRS subclass</p>
<blockquote class="last">
<div><p>[default CARTESIAN]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.Point.as_geojson">
<code class="descname">as_geojson</code><span class="sig-paren">(</span><em>indent=2</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.as_geojson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.as_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a GeoJSON string to a file-like object <cite>f</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : file-like object to recieve the GeoJSON string</p>
<p><strong>crs</strong> : karta.crs.CRS subclass</p>
<blockquote>
<div><p>coordinate reference system, optional</p>
</div></blockquote>
<p><strong>bbox</strong> : 4-tuple</p>
<blockquote class="last">
<div><p>a bounding box in the form (w,e,s,n), optional</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.azimuth">
<code class="descname">azimuth</code><span class="sig-paren">(</span><em>other</em>, <em>crs=&lt;karta.crs.GeographicalCRS object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.azimuth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.azimuth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the compass azimuth from self to other in radians (i.e.
clockwise, with north at 0). Returns NaN if points are coincident.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.coordsxy">
<code class="descname">coordsxy</code><span class="sig-paren">(</span><em>convert_to=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.coordsxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.coordsxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the x,y coordinates. Convert_to may be set to &#8216;deg&#8217;
or &#8216;rad&#8217; for convenience.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.distance">
<code class="descname">distance</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a distance to another Point. If the coordinate system is
geographical and a third (z) coordinate exists, it is assumed to have
the same units as the real-world horizontal distance (i.e. meters).</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.get_vertex">
<code class="descname">get_vertex</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.get_vertex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.get_vertex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Point vertex as a tuple.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.shift">
<code class="descname">shift</code><span class="sig-paren">(</span><em>shift_vector</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift point by the amount given by a vector.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.to_geojson">
<code class="descname">to_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>indent=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Point.to_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a GeoJSON string to a file-like object <cite>f</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : file-like object to recieve the GeoJSON string</p>
<p><strong>*kwargs* include:</strong></p>
<p><strong>crs</strong> : coordinate reference system</p>
<p class="last"><strong>bbox</strong> : an optional bounding box tuple in the form (w,e,s,n)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.to_shapefile">
<code class="descname">to_shapefile</code><span class="sig-paren">(</span><em>fnm</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Point.to_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save line to a shapefile</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Point.walk">
<code class="descname">walk</code><span class="sig-paren">(</span><em>distance</em>, <em>direction</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Point.walk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Point.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the point reached when moving in a given direction for
a given distance from a specified starting location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>distance</strong> : float</p>
<blockquote>
<div><p>distance to walk</p>
</div></blockquote>
<p><strong>direction</strong> : float</p>
<blockquote class="last">
<div><p>walk azimuth (clockwise with &#8220;north&#8221; at 0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="multipoint">
<h4>Multipoint<a class="headerlink" href="#multipoint" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="karta.vector.Multipoint">
<em class="property">class </em><code class="descclassname">karta.vector.</code><code class="descname">Multipoint</code><span class="sig-paren">(</span><em>vertices</em>, <em>data=None</em>, <em>properties=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Multipoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Multipoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Point cloud with associated attributes. This is a base class for the
polyline and polygon classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : list of 2-tuples or 3-tuples</p>
<p><strong>data</strong> : list, dict, Table object, or None</p>
<blockquote>
<div><p>point-specific data [default None]</p>
</div></blockquote>
<p><strong>properties</strong> : dict or None</p>
<blockquote>
<div><p>geometry specific data [default None]</p>
</div></blockquote>
<p><strong>crs</strong> : karta.crs.CRS subclass</p>
<blockquote class="last">
<div><p>[default CARTESIAN]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.Multipoint.any_within_poly">
<code class="descname">any_within_poly</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.any_within_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether any vertices are inside <em>poly</em></p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.apply_affine_transform">
<code class="descname">apply_affine_transform</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.apply_affine_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an affine transform given by matrix <em>M</em> to data and return a
new geometry.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.as_geojson">
<code class="descname">as_geojson</code><span class="sig-paren">(</span><em>indent=2</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.as_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Print representation of internal data as a GeoJSON string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>indent</strong> : int</p>
<blockquote>
<div><p>spaces to intent JSON levels</p>
</div></blockquote>
<p><strong>bbox</strong> : 4-tuple</p>
<blockquote>
<div><p>a bounding box in the form (w,e,s,n), optional</p>
</div></blockquote>
<p class="last"><strong>crs</strong> : karta.crs.CRS subclass</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.build_quadtree">
<code class="descname">build_quadtree</code><span class="sig-paren">(</span><em>buff=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Multipoint.build_quadtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Multipoint.build_quadtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an internal quadtree with the current geometry data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buff</strong> : float or 4-tuple of floats</p>
<blockquote class="last">
<div><p>specifies a spatial buffer to create around the current point
bounding box, permitting the geometry to grow after the quadtree
has been initialized. <em>buff</em> may be a scalar or a sequence of
(left, right, bottom, top). (optional)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.convex_hull">
<code class="descname">convex_hull</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.convex_hull" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Polygon representing the convex hull.</p>
<p>Only implemented for Cartesian-derived coordinate systems.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.distances_to">
<code class="descname">distances_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.distances_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the distance from each vertex to a point.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.flat_distances_to">
<code class="descname">flat_distances_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.flat_distances_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8220;flat Earth&#8221; distance from each vertex to a point.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.get_coordinate_lists">
<code class="descname">get_coordinate_lists</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.get_coordinate_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return horizontal coordinate lists, optionally projected to <em>crs</em>.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.get_extent">
<code class="descname">get_extent</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.get_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a bounding box.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.get_vertices">
<code class="descname">get_vertices</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.get_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return vertices as an array.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.nearest_point_to">
<code class="descname">nearest_point_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.nearest_point_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the internal Point that is nearest to <em>pt</em>. If two points
are equidistant, only one will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.print_vertices">
<code class="descname">print_vertices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.print_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an enumerated list of indices.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.rotate2d">
<code class="descname">rotate2d</code><span class="sig-paren">(</span><em>thetad</em>, <em>origin=(0</em>, <em>0)</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.rotate2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate rank 2 Multipoint around <em>origin</em> counter-clockwise by
<em>thetad</em> degrees.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.shift">
<code class="descname">shift</code><span class="sig-paren">(</span><em>shift_vector</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift feature by the amount given by a vector.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.to_geojson">
<code class="descname">to_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>indent=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.to_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a GeoJSON string to a file-like object <cite>f</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : file-like object to recieve the GeoJSON string</p>
<p><strong>*kwargs* include:</strong></p>
<p><strong>crs</strong> : coordinate reference system</p>
<p class="last"><strong>bbox</strong> : an optional bounding box tuple in the form (w,e,s,n)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.to_shapefile">
<code class="descname">to_shapefile</code><span class="sig-paren">(</span><em>fnm</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.to_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save line to a shapefile</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.to_xyfile">
<code class="descname">to_xyfile</code><span class="sig-paren">(</span><em>fnm</em>, <em>fields=None</em>, <em>delimiter=' '</em>, <em>header=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Multipoint.to_xyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a delimited ASCII table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fnm</strong> : string</p>
<blockquote>
<div><p>filename to write to</p>
</div></blockquote>
<p><strong>fields</strong> : list</p>
<blockquote>
<div><p>specify the fields to be written (optional, default all)</p>
</div></blockquote>
<p class="last"><strong>Additional kwargs are passed to `xyfile.write_xy`.</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.within_bbox">
<code class="descname">within_bbox</code><span class="sig-paren">(</span><em>bbox</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Multipoint.within_bbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Multipoint.within_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Multipoint subset that is within a square bounding box
given by (xmin, xymin, xmax, ymax).</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.within_polygon">
<code class="descname">within_polygon</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Multipoint.within_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Multipoint.within_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Multipoint subset that is within a polygon.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Multipoint.within_radius">
<code class="descname">within_radius</code><span class="sig-paren">(</span><em>pt</em>, <em>radius</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Multipoint.within_radius"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Multipoint.within_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Multipoint of subset that is within <em>radius</em> of <em>pt</em>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="line">
<h4>Line<a class="headerlink" href="#line" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="karta.vector.Line">
<em class="property">class </em><code class="descclassname">karta.vector.</code><code class="descname">Line</code><span class="sig-paren">(</span><em>vertices</em>, <em>data=None</em>, <em>properties=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Line" title="Permalink to this definition">¶</a></dt>
<dd><p>Line composed of connected vertices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : list of 2-tuples or 3-tuples</p>
<p><strong>data</strong> : list, dict, Table object, or None</p>
<blockquote>
<div><p>point-specific data [default None]</p>
</div></blockquote>
<p><strong>properties</strong> : dict or None</p>
<blockquote>
<div><p>geometry specific data [default None]</p>
</div></blockquote>
<p><strong>crs</strong> : karta.crs.CRS subclass</p>
<blockquote class="last">
<div><p>[default CARTESIAN]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.Line.any_within_poly">
<code class="descname">any_within_poly</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.any_within_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether any vertices are inside <em>poly</em></p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.apply_affine_transform">
<code class="descname">apply_affine_transform</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.apply_affine_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an affine transform given by matrix <em>M</em> to data and return a
new geometry.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.as_geojson">
<code class="descname">as_geojson</code><span class="sig-paren">(</span><em>indent=2</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.as_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Print representation of internal data as a GeoJSON string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>indent</strong> : int</p>
<blockquote>
<div><p>spaces to intent JSON levels</p>
</div></blockquote>
<p><strong>bbox</strong> : 4-tuple</p>
<blockquote>
<div><p>a bounding box in the form (w,e,s,n), optional</p>
</div></blockquote>
<p class="last"><strong>crs</strong> : karta.crs.CRS subclass</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.convex_hull">
<code class="descname">convex_hull</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.convex_hull" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Polygon representing the convex hull.</p>
<p>Only implemented for Cartesian-derived coordinate systems.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.crosses_dateline">
<code class="descname">crosses_dateline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.crosses_dateline" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a boolean that indicates whether any segment crosses the
dateline</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.cumulength">
<code class="descname">cumulength</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Line.cumulength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Line.cumulength" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the cumulative length by vertex.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.displacement">
<code class="descname">displacement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Line.displacement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Line.displacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the distance between the first and last vertex.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.distances_to">
<code class="descname">distances_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.distances_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the distance from each vertex to a point.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Line.extend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Line.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine two lines, provided that that the data formats are similar.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.flat_distances_to">
<code class="descname">flat_distances_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.flat_distances_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8220;flat Earth&#8221; distance from each vertex to a point.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.get_coordinate_lists">
<code class="descname">get_coordinate_lists</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.get_coordinate_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return horizontal coordinate lists, optionally projected to <em>crs</em>.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.get_extent">
<code class="descname">get_extent</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.get_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a bounding box.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.get_vertices">
<code class="descname">get_vertices</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.get_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return vertices as an array.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.intersections">
<code class="descname">intersections</code><span class="sig-paren">(</span><em>other</em>, <em>keep_duplicates=False</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.intersections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intersections with another geometry as a Multipoint.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.intersects">
<code class="descname">intersects</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.intersects" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether an intersection exists with another geometry.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.nearest_on_boundary">
<code class="descname">nearest_on_boundary</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.nearest_on_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the position on the geometry boundary that is nearest to
<em>pt</em> (Point). If two points are equidistant, only one will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.nearest_point_to">
<code class="descname">nearest_point_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.nearest_point_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the internal Point that is nearest to <em>pt</em>. If two points
are equidistant, only one will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.print_vertices">
<code class="descname">print_vertices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.print_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an enumerated list of indices.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.rotate2d">
<code class="descname">rotate2d</code><span class="sig-paren">(</span><em>thetad</em>, <em>origin=(0</em>, <em>0)</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.rotate2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate rank 2 Multipoint around <em>origin</em> counter-clockwise by
<em>thetad</em> degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Line.segment_tuples">
<code class="descname">segment_tuples</code><a class="headerlink" href="#karta.vector.Line.segment_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an generator of adjacent line segments as coordinate tuples.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Line.segments">
<code class="descname">segments</code><a class="headerlink" href="#karta.vector.Line.segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an generator of adjacent line segments.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.shift">
<code class="descname">shift</code><span class="sig-paren">(</span><em>shift_vector</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift feature by the amount given by a vector.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.shortest_distance_to">
<code class="descname">shortest_distance_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.shortest_distance_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the shortest distance from any position on the geometry
boundary to <em>pt</em> (Point).</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.subsection">
<code class="descname">subsection</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Line.subsection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Line.subsection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>n</em> equally spaced Point instances along line.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.to_geojson">
<code class="descname">to_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>indent=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.to_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a GeoJSON string to a file-like object <cite>f</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : file-like object to recieve the GeoJSON string</p>
<p><strong>*kwargs* include:</strong></p>
<p><strong>crs</strong> : coordinate reference system</p>
<p class="last"><strong>bbox</strong> : an optional bounding box tuple in the form (w,e,s,n)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.to_polygon">
<code class="descname">to_polygon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Line.to_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Line.to_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a polygon.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.to_shapefile">
<code class="descname">to_shapefile</code><span class="sig-paren">(</span><em>fnm</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.to_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save line to a shapefile</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.to_xyfile">
<code class="descname">to_xyfile</code><span class="sig-paren">(</span><em>fnm</em>, <em>fields=None</em>, <em>delimiter=' '</em>, <em>header=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.to_xyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a delimited ASCII table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fnm</strong> : string</p>
<blockquote>
<div><p>filename to write to</p>
</div></blockquote>
<p><strong>fields</strong> : list</p>
<blockquote>
<div><p>specify the fields to be written (optional, default all)</p>
</div></blockquote>
<p class="last"><strong>Additional kwargs are passed to `xyfile.write_xy`.</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Line.within_distance">
<code class="descname">within_distance</code><span class="sig-paren">(</span><em>pt</em>, <em>distance</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Line.within_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether a point is within <em>distance</em> of a ConnectedMultipoint.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="polygon">
<h4>Polygon<a class="headerlink" href="#polygon" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="karta.vector.Polygon">
<em class="property">class </em><code class="descclassname">karta.vector.</code><code class="descname">Polygon</code><span class="sig-paren">(</span><em>vertices</em>, <em>data=None</em>, <em>properties=None</em>, <em>subs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Polygon, composed of a closed sequence of vertices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : list of 2-tuples or 3-tuples</p>
<p><strong>data</strong> : list, dict, Table object, or None</p>
<blockquote>
<div><p>point-specific data [default None]</p>
</div></blockquote>
<p><strong>properties</strong> : dict or None</p>
<blockquote>
<div><p>geometry specific data [default None]</p>
</div></blockquote>
<p><strong>subs</strong> : list of Polygon instances or None</p>
<blockquote>
<div><p>sub-polygons [default None]</p>
</div></blockquote>
<p><strong>crs</strong> : karta.crs.CRS subclass</p>
<blockquote class="last">
<div><p>[default CARTESIAN]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.Polygon.any_within_poly">
<code class="descname">any_within_poly</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.any_within_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether any vertices are inside <em>poly</em></p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.apply_affine_transform">
<code class="descname">apply_affine_transform</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.apply_affine_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an affine transform given by matrix <em>M</em> to data and return a
new geometry.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Polygon.area">
<code class="descname">area</code><a class="headerlink" href="#karta.vector.Polygon.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the two-dimensional area of the polygon, excluding
sub-polygons.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.as_geojson">
<code class="descname">as_geojson</code><span class="sig-paren">(</span><em>indent=2</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.as_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Print representation of internal data as a GeoJSON string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>indent</strong> : int</p>
<blockquote>
<div><p>spaces to intent JSON levels</p>
</div></blockquote>
<p><strong>bbox</strong> : 4-tuple</p>
<blockquote>
<div><p>a bounding box in the form (w,e,s,n), optional</p>
</div></blockquote>
<p class="last"><strong>crs</strong> : karta.crs.CRS subclass</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Polygon.centroid">
<code class="descname">centroid</code><a class="headerlink" href="#karta.vector.Polygon.centroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Polygon centroid as a Point, ignoring sub-polygons.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.contains">
<code class="descname">contains</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Polygon.contains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Polygon.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if pt is inside or on the boundary of the polygon, and
False otherwise. Uses a crossing number scheme.</p>
<p>Behaviour may not be defined for polar geographical polygons.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.convex_hull">
<code class="descname">convex_hull</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.convex_hull" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Polygon representing the convex hull.</p>
<p>Only implemented for Cartesian-derived coordinate systems.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.crosses_dateline">
<code class="descname">crosses_dateline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.crosses_dateline" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a boolean that indicates whether any segment crosses the
dateline</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.distances_to">
<code class="descname">distances_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.distances_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the distance from each vertex to a point.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.flat_distances_to">
<code class="descname">flat_distances_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.flat_distances_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8220;flat Earth&#8221; distance from each vertex to a point.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.get_coordinate_lists">
<code class="descname">get_coordinate_lists</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.get_coordinate_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return horizontal coordinate lists, optionally projected to <em>crs</em>.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.get_extent">
<code class="descname">get_extent</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.get_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a bounding box.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.get_vertices">
<code class="descname">get_vertices</code><span class="sig-paren">(</span><em>crs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.get_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return vertices as an array.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.intersections">
<code class="descname">intersections</code><span class="sig-paren">(</span><em>other</em>, <em>keep_duplicates=False</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.intersections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intersections with another geometry as a Multipoint.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.intersects">
<code class="descname">intersects</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.intersects" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether an intersection exists with another geometry.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.isclockwise">
<code class="descname">isclockwise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Polygon.isclockwise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Polygon.isclockwise" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether polygon winds clockwise around its interior.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.ispolar">
<code class="descname">ispolar</code><span class="sig-paren">(</span><em>pole=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Polygon.ispolar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Polygon.ispolar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if polygon contains one pole. If the polygon contains
neither or both poles, returns False.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.nearest_on_boundary">
<code class="descname">nearest_on_boundary</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.nearest_on_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the position on the geometry boundary that is nearest to
<em>pt</em> (Point). If two points are equidistant, only one will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.nearest_point_to">
<code class="descname">nearest_point_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.nearest_point_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the internal Point that is nearest to <em>pt</em>. If two points
are equidistant, only one will be returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Polygon.perimeter">
<code class="descname">perimeter</code><a class="headerlink" href="#karta.vector.Polygon.perimeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the perimeter of the polygon. If there are sub-polygons,
their perimeters are added recursively.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.print_vertices">
<code class="descname">print_vertices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.print_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an enumerated list of indices.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.rotate2d">
<code class="descname">rotate2d</code><span class="sig-paren">(</span><em>thetad</em>, <em>origin=(0</em>, <em>0)</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.rotate2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate rank 2 Multipoint around <em>origin</em> counter-clockwise by
<em>thetad</em> degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Polygon.segment_tuples">
<code class="descname">segment_tuples</code><a class="headerlink" href="#karta.vector.Polygon.segment_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an generator of adjacent line segments as coordinate tuples.</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.Polygon.segments">
<code class="descname">segments</code><a class="headerlink" href="#karta.vector.Polygon.segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an generator of adjacent line segments.
Unique to Polygon: appends a final segment to close the Polygon.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.shift">
<code class="descname">shift</code><span class="sig-paren">(</span><em>shift_vector</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift feature by the amount given by a vector.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.shortest_distance_to">
<code class="descname">shortest_distance_to</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.shortest_distance_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the shortest distance from any position on the geometry
boundary to <em>pt</em> (Point).</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.to_geojson">
<code class="descname">to_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>indent=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.to_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a GeoJSON string to a file-like object <cite>f</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : file-like object to recieve the GeoJSON string</p>
<p><strong>*kwargs* include:</strong></p>
<p><strong>crs</strong> : coordinate reference system</p>
<p class="last"><strong>bbox</strong> : an optional bounding box tuple in the form (w,e,s,n)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.to_line">
<code class="descname">to_line</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geometry.html#Polygon.to_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.Polygon.to_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a self-closing polyline. Discards sub-polygons.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.to_shapefile">
<code class="descname">to_shapefile</code><span class="sig-paren">(</span><em>fnm</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.to_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save line to a shapefile</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.to_xyfile">
<code class="descname">to_xyfile</code><span class="sig-paren">(</span><em>fnm</em>, <em>fields=None</em>, <em>delimiter=' '</em>, <em>header=None</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.to_xyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a delimited ASCII table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fnm</strong> : string</p>
<blockquote>
<div><p>filename to write to</p>
</div></blockquote>
<p><strong>fields</strong> : list</p>
<blockquote>
<div><p>specify the fields to be written (optional, default all)</p>
</div></blockquote>
<p class="last"><strong>Additional kwargs are passed to `xyfile.write_xy`.</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="karta.vector.Polygon.within_distance">
<code class="descname">within_distance</code><span class="sig-paren">(</span><em>pt</em>, <em>distance</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.Polygon.within_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether a point is within <em>distance</em> of a ConnectedMultipoint.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-karta.vector.table">
<span id="metadata-tables"></span><h3>Metadata tables<a class="headerlink" href="#module-karta.vector.table" title="Permalink to this headline">¶</a></h3>
<p>Metadata tables for vector data</p>
<dl class="class">
<dt id="karta.vector.table.Table">
<em class="property">class </em><code class="descclassname">karta.vector.table.</code><code class="descname">Table</code><span class="sig-paren">(</span><em>data</em>, <em>fields=None</em>, <em>checktypes=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/table.html#Table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.table.Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a metadata table.</p>
<dl class="method">
<dt id="karta.vector.table.Table.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/table.html#Table.extend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.table.Table.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend Table from another Table instance. If <em>other</em> has field f in
<em>self</em>, it is copied. Otherwise, the None is appended.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.table.Table.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/table.html#Table.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.table.Table.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary for a single entry</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.table.Table.getfield">
<code class="descname">getfield</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/table.html#Table.getfield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.table.Table.getfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of data corresponding to <em>field</em></p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.table.Table.setfield">
<code class="descname">setfield</code><span class="sig-paren">(</span><em>field</em>, <em>values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/table.html#Table.setfield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.table.Table.setfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify or add a field with <em>values</em></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.table.Indexer">
<em class="property">class </em><code class="descclassname">karta.vector.table.</code><code class="descname">Indexer</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/table.html#Indexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.table.Indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a pleasanter syntax for querying Table</p>
</dd></dl>

</div>
<div class="section" id="trees">
<h3>Trees<a class="headerlink" href="#trees" title="Permalink to this headline">¶</a></h3>
<div class="section" id="module-karta.vector.quadtree">
<span id="quadtree"></span><h4>Quadtree<a class="headerlink" href="#module-karta.vector.quadtree" title="Permalink to this headline">¶</a></h4>
<p>Implements a simple QuadTree datastructure.</p>
<dl class="class">
<dt id="karta.vector.quadtree.QuadTree">
<em class="property">class </em><code class="descclassname">karta.vector.quadtree.</code><code class="descname">QuadTree</code><span class="sig-paren">(</span><em>bbox</em>, <em>maxchildren=20</em>, <em>maxdepth=999</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#QuadTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.QuadTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a convenience class that wraps a quadtree data structure and
the methods needed to grow or query it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bbox</strong> : 4-tuple</p>
<blockquote>
<div><p>(xmin, xmax, ymin, ymax).</p>
</div></blockquote>
<p><strong>maxchildren</strong> : int, optional</p>
<blockquote>
<div><p>maximum number of points before a node is split</p>
</div></blockquote>
<p><strong>maxdepth</strong> : int, optional</p>
<blockquote class="last">
<div><p>maximum tree depth</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.quadtree.QuadTree.addpt">
<code class="descname">addpt</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#QuadTree.addpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.QuadTree.addpt" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point to the QuadTree. Returns the depth at which the point was
added.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.quadtree.QuadTree.getfrombbox">
<code class="descname">getfrombbox</code><span class="sig-paren">(</span><em>bbox</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#QuadTree.getfrombbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.QuadTree.getfrombbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract all points from a boundary box.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.quadtree.QuadTree.querypt">
<code class="descname">querypt</code><span class="sig-paren">(</span><em>pt</em>, <em>method='hash'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#QuadTree.querypt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.QuadTree.querypt" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether QuadTree contains a point. <em>method</em> may be &#8220;recursion&#8221;
[default] or &#8220;hash&#8221;.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="karta.vector.quadtree.addpt">
<code class="descclassname">karta.vector.quadtree.</code><code class="descname">addpt</code><span class="sig-paren">(</span><em>node</em>, <em>pt</em>, <em>depth</em>, <em>maxchildren</em>, <em>maxdepth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#addpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.addpt" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point to a node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node</strong> : Node</p>
<p><strong>pt</strong> : tuple</p>
<p><strong>depth</strong> : int</p>
<blockquote>
<div><p>current quadtree level</p>
</div></blockquote>
<p><strong>maxchildren</strong> : int</p>
<p><strong>maxdepth</strong> : int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Node</p>
<blockquote>
<div><p>updated node (which may or may not be the same as the starting node,
depending on whether a split occurred)</p>
</div></blockquote>
<p>int</p>
<blockquote class="last">
<div><p>depth at which point was inserted</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.vector.quadtree.getfrombbox">
<code class="descclassname">karta.vector.quadtree.</code><code class="descname">getfrombbox</code><span class="sig-paren">(</span><em>parent</em>, <em>bbox</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#getfrombbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.getfrombbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all points in <em>parent</em> node that are in <em>bbox</em>.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.quadtree.querypt_recursion">
<code class="descclassname">karta.vector.quadtree.</code><code class="descname">querypt_recursion</code><span class="sig-paren">(</span><em>parent</em>, <em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#querypt_recursion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.querypt_recursion" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether a point exists at <em>pt</em> using recursion.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.quadtree.split">
<code class="descclassname">karta.vector.quadtree.</code><code class="descname">split</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/quadtree.html#split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.quadtree.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new node with the bbox of <em>node</em> and <em>node</em>&#8216;s children split
between four child nodes.</p>
</dd></dl>

</div>
<div class="section" id="module-karta.vector.rtree">
<span id="r-tree"></span><h4>R-Tree<a class="headerlink" href="#module-karta.vector.rtree" title="Permalink to this headline">¶</a></h4>
<p>Implements an R-tree data structure</p>
<dl class="class">
<dt id="karta.vector.rtree.LeafNode">
<em class="property">class </em><code class="descclassname">karta.vector.rtree.</code><code class="descname">LeafNode</code><span class="sig-paren">(</span><em>bbox</em>, <em>parent</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#LeafNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.LeafNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Leaf node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bbox</strong> : 4-tuple</p>
<blockquote>
<div><p>(x-min, y-min, x-max, y-max)</p>
</div></blockquote>
<p><strong>parent</strong> : Node</p>
<p class="last"><strong>max_children</strong> : int, optional</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.rtree.LeafNode.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>geom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#LeafNode.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.LeafNode.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a geometry and return a code and a list of any new nodes
generated by splitting.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.rtree.LeafNode.split">
<code class="descname">split</code><span class="sig-paren">(</span><em>kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#LeafNode.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.LeafNode.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split and return new nodes.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.rtree.Node">
<em class="property">class </em><code class="descclassname">karta.vector.rtree.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>bbox</em>, <em>parent</em>, <em>max_children=50</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#Node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an R-tree node</p>
</dd></dl>

<dl class="class">
<dt id="karta.vector.rtree.NonLeafNode">
<em class="property">class </em><code class="descclassname">karta.vector.rtree.</code><code class="descname">NonLeafNode</code><span class="sig-paren">(</span><em>bbox</em>, <em>parent</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#NonLeafNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.NonLeafNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Non-leaf node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bbox</strong> : 4-tuple</p>
<blockquote>
<div><p>(x-min, y-min, x-max, y-max)</p>
</div></blockquote>
<p><strong>parent</strong> : Node</p>
<p class="last"><strong>max_children</strong> : int, optional</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.vector.rtree.NonLeafNode.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>geom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#NonLeafNode.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.NonLeafNode.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a geometry and return a code and a list of any new nodes
generated by splitting.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.rtree.NonLeafNode.split">
<code class="descname">split</code><span class="sig-paren">(</span><em>kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#NonLeafNode.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.NonLeafNode.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split and return new nodes.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.build_tree">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">build_tree</code><span class="sig-paren">(</span><em>geoms</em>, <em>max_children=50</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#build_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.build_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an R-tree</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geoms</strong> : list of objects implementing a <cite>bbox</cite> attribute</p>
<p class="last"><strong>max_children</strong> : int, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.contains_geom">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">contains_geom</code><span class="sig-paren">(</span><em>tree</em>, <em>geom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#contains_geom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.contains_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether tree contains <em>geom</em></p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.itergeoms">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">itergeoms</code><span class="sig-paren">(</span><em>tree</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#itergeoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.itergeoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for all geometry ojects in tree</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.iterleaves">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">iterleaves</code><span class="sig-paren">(</span><em>tree</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#iterleaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.iterleaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for all leaf nodes in tree</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.iternodes">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">iternodes</code><span class="sig-paren">(</span><em>tree</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#iternodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.iternodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for all nodes in tree</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.linear_pick_next">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">linear_pick_next</code><span class="sig-paren">(</span><em>bb0</em>, <em>bb1</em>, <em>geoms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#linear_pick_next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.linear_pick_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply return the last geometry, as well as the index of the bbox that
it should be placed in.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.linear_pick_seeds">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">linear_pick_seeds</code><span class="sig-paren">(</span><em>geoms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#linear_pick_seeds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.linear_pick_seeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose the seeds for splitting a list of geometries using the linear
approximation of Guttman (1984).</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.quadratic_pick_next">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">quadratic_pick_next</code><span class="sig-paren">(</span><em>bb0</em>, <em>bb1</em>, <em>geoms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#quadratic_pick_next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.quadratic_pick_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose an index from <em>geoms</em> to place in one of <em>bb0</em>, <em>bb1</em>.
Return the best entry to index next, and the bbox to place it in.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.quadratic_pick_seeds">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">quadratic_pick_seeds</code><span class="sig-paren">(</span><em>geoms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#quadratic_pick_seeds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.quadratic_pick_seeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose the seeds for splitting a list of geometries using the quadratic
approximation of Guttman (1984).</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.search">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">search</code><span class="sig-paren">(</span><em>tree</em>, <em>bbox</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all geometries overlapping <em>bbox</em>.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.rtree.volume_expanded">
<code class="descclassname">karta.vector.rtree.</code><code class="descname">volume_expanded</code><span class="sig-paren">(</span><em>bb0</em>, <em>bb1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/rtree.html#volume_expanded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.rtree.volume_expanded" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the volume by which the union of two bounding boxes larger than
the bounding box of geom0.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-karta.vector.read">
<span id="vector-io-modules"></span><h3>Vector IO modules<a class="headerlink" href="#module-karta.vector.read" title="Permalink to this headline">¶</a></h3>
<p>Convenience reader functions</p>
<dl class="function">
<dt>
<code class="descclassname">karta.vector.read.</code><code class="descname">from_shape</code><span class="sig-paren">(</span><em>obj</em>, <em>properties=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#from_shape"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Read a __geo_interface__ dictionary and return an appropriate karta
object</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">karta.vector.read.</code><code class="descname">get_filenames</code><span class="sig-paren">(</span><em>stem</em>, <em>check=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#get_filenames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a filename basename, return the associated shapefile paths. If
<cite>check</cite> is True, ensure that the files exist.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">karta.vector.read.</code><code class="descname">ogr_parse_srs</code><span class="sig-paren">(</span><em>lyr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#ogr_parse_srs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given an OGR type with a <cite>GetSpatialRef</cite> method, return a matching CRS
object.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">karta.vector.read.</code><code class="descname">read_geojson</code><span class="sig-paren">(</span><em>f</em>, <em>crs=&lt;karta.crs.GeographicalCRS object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#read_geojson"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parse GeoJSON and return a list of geometries.</p>
<dl class="docutils">
<dt>f</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">file-like object or str</span><dd>file object to read from or a GeoJSON string</dd>
<dt>crs</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">karta.crs.CRS</span><dd>CRS object to bind to new geometries</dd>
</dl>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">karta.vector.read.</code><code class="descname">read_xyfile</code><span class="sig-paren">(</span><em>f</em>, <em>delimiter=''</em>, <em>header_rows=0</em>, <em>astype=&lt;class 'karta.vector.geometry.Multipoint'&gt;</em>, <em>coordrank=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/read.html#read_xyfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Read an ASCII delimited table and return a geometry object given by <em>astype</em>.</p>
</dd></dl>

<div class="section" id="module-karta.vector.geojson">
<span id="geojson"></span><h4>GeoJSON<a class="headerlink" href="#module-karta.vector.geojson" title="Permalink to this headline">¶</a></h4>
<p>This module includes the <cite>GeoJSON</cite> class and convenience functions for
dealing with GeoJSON data. The <cite>GeoJSON</cite> class uses the builtin json module and
enforces GeoJSON standards.</p>
<dl class="class">
<dt id="karta.vector.geojson.Feature">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">Feature</code><span class="sig-paren">(</span><em>geometry</em>, <em>properties</em>, <em>id</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.Feature" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.Feature.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.Feature.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.Feature.geometry">
<code class="descname">geometry</code><a class="headerlink" href="#karta.vector.geojson.Feature.geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.Feature.id">
<code class="descname">id</code><a class="headerlink" href="#karta.vector.geojson.Feature.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.Feature.properties">
<code class="descname">properties</code><a class="headerlink" href="#karta.vector.geojson.Feature.properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.FeatureCollection">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">FeatureCollection</code><span class="sig-paren">(</span><em>features</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.FeatureCollection" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.FeatureCollection.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.FeatureCollection.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.FeatureCollection.features">
<code class="descname">features</code><a class="headerlink" href="#karta.vector.geojson.FeatureCollection.features" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.GeoJSONSerializer">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">GeoJSONSerializer</code><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONSerializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for converting GeoJSON named tuples to GeoJSON.</p>
<p>Usage:</p>
<blockquote>
<div>serializer = GeoJSONSerializer()
json_string = serializer.serialize(named_tuple)</div></blockquote>
<dl class="staticmethod">
<dt id="karta.vector.geojson.GeoJSONSerializer.crsdict">
<em class="property">static </em><code class="descname">crsdict</code><span class="sig-paren">(</span><em>crs=None</em>, <em>urn=None</em>, <em>href=''</em>, <em>linktype='proj4'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONSerializer.crsdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONSerializer.crsdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary that can be serialized as a GeoJSON coordinate
system mapping using a <em>urn</em> or a <em>crs</em> instance.</p>
<p>In the case of a linked CRS, the link address and type can be specified
using the <cite>href</cite> and <cite>linktype</cite> keyword arguments.</p>
<p>For more details, see the GeoJSON specification at:
<a class="reference external" href="http://geojson.org/geojson-spec.html#coordinate-reference-system-objects">http://geojson.org/geojson-spec.html#coordinate-reference-system-objects</a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.GeoJSONWriter">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">GeoJSONWriter</code><span class="sig-paren">(</span><em>gpobj</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for converting geometry objects to GeoJSON strings. Multipoint-based
opjects are written as &#8216;Features&#8217;.</p>
<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.add_bbox">
<code class="descname">add_bbox</code><span class="sig-paren">(</span><em>bbox=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.add_bbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.add_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Tag the JSON object with a bounding box. If <em>bbox</em> is None
(default), the bounds will be calculated from the data. Otherwise,
<em>bbox</em> should be in the form (xmin, xmax, ....) for all dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.add_coordinates">
<code class="descname">add_coordinates</code><span class="sig-paren">(</span><em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.add_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.add_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Add coordinates. Behaviour depends on the type of the geometry
object. Target must be None (default) or a dictionary member of the
JSON object.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.add_crs">
<code class="descname">add_crs</code><span class="sig-paren">(</span><em>crs=None</em>, <em>urn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.add_crs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.add_crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Tag the JSON object with coordinate reference system metadata using
a CRS instance, which is expected the have the interface of crs.CRS.</p>
<p>In the case of a linked CRS, the link address and type can be specified
using the <cite>href</cite> and <cite>linktype</cite> keyword arguments. If not supplied,
then it is assumed that crs.id[&#8220;urn&#8221;] contains the <em>href</em> and the
<em>type</em> is &#8220;name&#8221;.</p>
<p>For more details, see the GeoJSON specification at:
<a class="reference external" href="http://geojson.org/geojson-spec.html#coordinate-reference-system-objects">http://geojson.org/geojson-spec.html#coordinate-reference-system-objects</a></p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.add_geometry">
<code class="descname">add_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.add_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.add_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Add geometry subobject. This should be called for writing
Multipoint-derived classes.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.add_id">
<code class="descname">add_id</code><span class="sig-paren">(</span><em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.add_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.add_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an index field.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.add_properties">
<code class="descname">add_properties</code><span class="sig-paren">(</span><em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.add_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.add_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the data from the geometry object&#8217;s data dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.print_json">
<code class="descname">print_json</code><span class="sig-paren">(</span><em>indent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.print_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.print_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Print GeoJSON representation.</p>
</dd></dl>

<dl class="method">
<dt id="karta.vector.geojson.GeoJSONWriter.write_json">
<code class="descname">write_json</code><span class="sig-paren">(</span><em>fout</em>, <em>indent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#GeoJSONWriter.write_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.GeoJSONWriter.write_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump internal dict-object to JSON using the builtin <cite>json</cite> module.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.GeometryCollection">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">GeometryCollection</code><span class="sig-paren">(</span><em>geometries</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.GeometryCollection" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.GeometryCollection.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.GeometryCollection.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.GeometryCollection.geometries">
<code class="descname">geometries</code><a class="headerlink" href="#karta.vector.geojson.GeometryCollection.geometries" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.LineString">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">LineString</code><span class="sig-paren">(</span><em>coordinates</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.LineString" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.LineString.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#karta.vector.geojson.LineString.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.LineString.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.LineString.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.MultiLineString">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">MultiLineString</code><span class="sig-paren">(</span><em>coordinates</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.MultiLineString" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.MultiLineString.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#karta.vector.geojson.MultiLineString.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.MultiLineString.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.MultiLineString.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.MultiPoint">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">MultiPoint</code><span class="sig-paren">(</span><em>coordinates</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.MultiPoint" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.MultiPoint.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#karta.vector.geojson.MultiPoint.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.MultiPoint.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.MultiPoint.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.MultiPolygon">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">MultiPolygon</code><span class="sig-paren">(</span><em>coordinates</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.MultiPolygon" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.MultiPolygon.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#karta.vector.geojson.MultiPolygon.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.MultiPolygon.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.MultiPolygon.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.NumpyAwareJSONEncoder">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">NumpyAwareJSONEncoder</code><span class="sig-paren">(</span><em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#NumpyAwareJSONEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.NumpyAwareJSONEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy-specific numbers prior to 1.9 don&#8217;t inherit from Python numeric
ABCs. This class is a hack to coerce numpy values into Python types for
JSON serialization.</p>
</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.Point">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">Point</code><span class="sig-paren">(</span><em>coordinates</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.Point" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.Point.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#karta.vector.geojson.Point.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.Point.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.Point.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.vector.geojson.Polygon">
<em class="property">class </em><code class="descclassname">karta.vector.geojson.</code><code class="descname">Polygon</code><span class="sig-paren">(</span><em>coordinates</em>, <em>crs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.geojson.Polygon" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="karta.vector.geojson.Polygon.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#karta.vector.geojson.Polygon.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="karta.vector.geojson.Polygon.crs">
<code class="descname">crs</code><a class="headerlink" href="#karta.vector.geojson.Polygon.crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="karta.vector.geojson.asfixedlist">
<code class="descclassname">karta.vector.geojson.</code><code class="descname">asfixedlist</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#asfixedlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.asfixedlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively convert nested iterables or coordinates to nested lists at
fixed precision.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.geojson.geojson2csv">
<code class="descclassname">karta.vector.geojson.</code><code class="descname">geojson2csv</code><span class="sig-paren">(</span><em>fin</em>, <em>fout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#geojson2csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.geojson2csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a JSON file to a CSV. Only properties (attributes) common to
all features are retained. The arguments <cite>fin</cite> and <cite>fout</cite> may be either
filenames or file-like objects.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.geojson.printGeometryCollection">
<code class="descclassname">karta.vector.geojson.</code><code class="descname">printGeometryCollection</code><span class="sig-paren">(</span><em>gpobj_list</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/geojson.html#printGeometryCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.geojson.printGeometryCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an iterable that returns geometry objects, construct a GeoJSON
FeatureCollection string.</p>
</dd></dl>

</div>
<div class="section" id="module-karta.vector.shp">
<span id="esri-shapefile-gdal-interface"></span><h4>ESRI shapefile (GDAL interface)<a class="headerlink" href="#module-karta.vector.shp" title="Permalink to this headline">¶</a></h4>
<p>Provides functions for reading and writing ESRI shapefiles and returning a
geometry object.</p>
<dl class="function">
<dt id="karta.vector.shp.get_geometry_type">
<code class="descclassname">karta.vector.shp.</code><code class="descname">get_geometry_type</code><span class="sig-paren">(</span><em>gi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#get_geometry_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.get_geometry_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the geometry type from a __geo_interface__ dictionary</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_get_fieldtype">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_get_fieldtype</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_get_fieldtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_get_fieldtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of
- an OGR type integer that describes the type of <em>a</em>
- a default width that should work for most cases</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_get_polygon_points">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_get_polygon_points</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_get_polygon_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_get_polygon_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of lists of ogr.Polygon coordinate rings.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_read_attributes">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_read_attributes</code><span class="sig-paren">(</span><em>lyr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_read_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_read_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an ogr.Layer instance, return a list of dictionaries with feature
property data.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_read_geometries">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_read_geometries</code><span class="sig-paren">(</span><em>lyr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_read_geometries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_read_geometries" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an ogr.Layer instance, return a list of __geo_interface__
dictionaries.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_read_geometry">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_read_geometry</code><span class="sig-paren">(</span><em>geom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_read_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_read_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an ogr.Geometry to a __geo_interface__ dictionary.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_write">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_write</code><span class="sig-paren">(</span><em>fnm</em>, <em>*objs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write features to shapefile using OGR backend. Features may be karta
geometry objects or __geo_interface__ features.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.ogr_write_feature">
<code class="descclassname">karta.vector.shp.</code><code class="descname">ogr_write_feature</code><span class="sig-paren">(</span><em>lyr</em>, <em>gi</em>, <em>id=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/vector/shp.html#ogr_write_feature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.vector.shp.ogr_write_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the geometry encoded in a __geointerface__ dictionary to a
shapefile.</p>
</dd></dl>

<dl class="function">
<dt id="karta.vector.shp.write_shapefile">
<code class="descclassname">karta.vector.shp.</code><code class="descname">write_shapefile</code><span class="sig-paren">(</span><em>fnm</em>, <em>*objs</em><span class="sig-paren">)</span><a class="headerlink" href="#karta.vector.shp.write_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write features to shapefile using OGR backend. Features may be karta
geometry objects or __geo_interface__ features.</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="managing-coordinate-systems">
<h2>Managing coordinate systems<a class="headerlink" href="#managing-coordinate-systems" title="Permalink to this headline">¶</a></h2>
<p>Coordinate reference systems describe how the numerical coordinates of a
geometry or grid relate to space in the real world. Difference coordinate
systems take different approaches to reducing position on the curved surface of
the earth to two-dimensional coordinates, making different assumptions about
Earth&#8217;s geometry and choosing to preserve different invariants.</p>
<p>In <em>Karta</em>, coordinate systems objects handle both projection from geographical
coordinates and geodetic operations such as calculating distances and azimuths.
Basic coordinate systems (<em>Cartesian</em> and <em>SphericalEarth</em>) are provided, while
more specialized systems employ <a class="reference external" href="http://jswhit.github.io/pyproj/">pyproj</a> to handle calculations.</p>
<p>The following predefined coordinate systems instances are available:</p>
<blockquote>
<div><ul class="simple">
<li><em>SphericalEarth</em></li>
<li><em>LonLatWGS84</em></li>
<li><em>LonLatNAD27</em></li>
<li><em>LonLatNAD83</em></li>
<li><em>UPSNorth</em></li>
<li><em>UPSSouth</em></li>
<li><em>NSIDCNorth</em></li>
<li><em>NSIDCSouth</em></li>
<li><em>LambertEqualArea</em></li>
<li><em>GallPetersEqualArea</em></li>
<li><em>WebMercator</em></li>
</ul>
</div></blockquote>
<p>Additionally, the <em>Cartesian</em> class can be used without instantiation.</p>
<p>To use a pre-defined coordinate system,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">karta.crs</span> <span class="k">import</span> <span class="n">LonLatWGS84</span>
</pre></div>
</div>
<p>The object <code class="docutils literal"><span class="pre">LonLatWGS84</span></code> can be passed to <em>Geometry</em> and <em>Grid</em> instances in
<em>Karta</em>. To define their coordinate system.</p>
<p>To create a specialized coordinate system, provide a <em>proj.4</em> string and a
spheroid definition.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">karta.crs</span> <span class="k">import</span> <span class="n">Proj4CRS</span>
<span class="n">my_crs</span> <span class="o">=</span> <span class="n">Proj4CRS</span><span class="p">(</span><span class="s2">&quot;+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 &quot;</span>
                  <span class="s2">&quot;+lon_0=-126 +x_0=1000000 +y_0=0 &quot;</span>
                  <span class="s2">&quot;+ellps=GRS80 +datum=NAD83 +units=m +no_defs&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;+ellps=GRS80&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="http://trac.osgeo.org/proj/">proj.4</a> documentation for more details.</p>
<div class="section" id="module-karta.crs">
<span id="crs-karta-crs"></span><h3>CRS (<code class="docutils literal"><span class="pre">karta.crs</span></code>)<a class="headerlink" href="#module-karta.crs" title="Permalink to this headline">¶</a></h3>
<p>Coordinate reference systems</p>
<p>Implements CRS classes for different kinds of spatial reference systems:</p>
<blockquote>
<div><ul class="simple">
<li>CartesianCRS</li>
<li>GeographicalCRS</li>
<li>SphericalCRS</li>
<li>EllipsoidalCRS</li>
<li>ProjectedCRS</li>
</ul>
</div></blockquote>
<p>Coordinate reference system (CRS) objects represent mappings geographical
positions to an x, y representation, and contain both projection and geodetic
information. CRS objects should be treated is immutable. It is possible for
multiple CRS objects to implement the same system, and tests for equality may
fail.</p>
<dl class="class">
<dt id="karta.crs.CRS">
<em class="property">class </em><code class="descclassname">karta.crs.</code><code class="descname">CRS</code><a class="reference internal" href="_modules/karta/crs.html#CRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.CRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for coordinate system instances.</p>
<p>Subclasses should define:</p>
<ul class="simple">
<li>name attribute</li>
<li>project(x, y) method</li>
<li>transform(other, x, y) method</li>
<li>forward(x, y, azimuth, distance) method</li>
<li>inverse(x0, y0, x1, y1) method</li>
</ul>
<p><em>project</em> transforms between world and projected coordinates, and takes the
optional boolean parameter <em>inverse</em> (default <cite>False</cite>)</p>
<p><em>forward</em> performs a forward geodetic calculation and returns world
coordinates</p>
<p><em>inverse</em> performs an inverse geodetic calculation and returns an azimuth,
a back azimuth, and a distance</p>
<p>A CRS subclass may optionally also provide string attributes:</p>
<ul class="simple">
<li>ref_proj4</li>
<li>ref_wkt</li>
</ul>
<p>which are used to provide interoperability with other systems.</p>
</dd></dl>

<dl class="class">
<dt id="karta.crs.CartesianCRS">
<em class="property">class </em><code class="descclassname">karta.crs.</code><code class="descname">CartesianCRS</code><a class="reference internal" href="_modules/karta/crs.html#CartesianCRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.CartesianCRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Cartesian (flat-earth) reference systems with (x, y) coordinates</p>
<dl class="staticmethod">
<dt id="karta.crs.CartesianCRS.forward">
<em class="property">static </em><code class="descname">forward</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>az</em>, <em>dist</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#CartesianCRS.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.CartesianCRS.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward geodetic problem from a point</p>
</dd></dl>

<dl class="staticmethod">
<dt id="karta.crs.CartesianCRS.inverse">
<em class="property">static </em><code class="descname">inverse</code><span class="sig-paren">(</span><em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#CartesianCRS.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.CartesianCRS.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse geodetic problem to find the geodesic between points</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.crs.EllipsoidalCRS">
<em class="property">class </em><code class="descclassname">karta.crs.</code><code class="descname">EllipsoidalCRS</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#EllipsoidalCRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.EllipsoidalCRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Ellipsoidal geographic coordinate system defined by equatorial and
polar radii.</p>
<p><strong>DEPRECATED</strong></p>
<dl class="method">
<dt id="karta.crs.EllipsoidalCRS.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>azimuth</em>, <em>distance</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#EllipsoidalCRS.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.EllipsoidalCRS.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward geodetic problem from a point</p>
</dd></dl>

<dl class="method">
<dt id="karta.crs.EllipsoidalCRS.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#EllipsoidalCRS.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.EllipsoidalCRS.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse geodetic problem to find the geodesic between points</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.crs.GeographicalCRS">
<em class="property">class </em><code class="descclassname">karta.crs.</code><code class="descname">GeographicalCRS</code><span class="sig-paren">(</span><em>spheroid</em>, <em>name</em>, <em>datum='+datum=WGS84'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#GeographicalCRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.GeographicalCRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference systems with longitude-latitude (θ, φ) coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>spheroid</strong> : string</p>
<blockquote>
<div><p>proj.4 spheroid identifier, e.g. &#8220;+ellps=WGS84&#8221;</p>
</div></blockquote>
<p><strong>name</strong> : string</p>
<p><strong>datum</strong> : string, optional</p>
<blockquote class="last">
<div><p>proj.4 datum identifier, default &#8220;+datum=WGS84&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.crs.GeographicalCRS.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#GeographicalCRS.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.GeographicalCRS.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward geodetic problem from a point</p>
</dd></dl>

<dl class="method">
<dt id="karta.crs.GeographicalCRS.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#GeographicalCRS.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.GeographicalCRS.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse geodetic problem to find the geodesic between points</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.crs.ProjectedCRS">
<em class="property">class </em><code class="descclassname">karta.crs.</code><code class="descname">ProjectedCRS</code><span class="sig-paren">(</span><em>proj</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#ProjectedCRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.ProjectedCRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom reference systems, which may be backed by a <em>pypoj.Proj</em> instance
or a custom projection function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>proj</strong> : string</p>
<blockquote>
<div><p>proj.4 string</p>
</div></blockquote>
<p class="last"><strong>name</strong> : string or None</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.crs.ProjectedCRS.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#ProjectedCRS.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.ProjectedCRS.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward geodetic problem from a point</p>
</dd></dl>

<dl class="method">
<dt id="karta.crs.ProjectedCRS.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#ProjectedCRS.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.ProjectedCRS.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse geodetic problem to find the geodesic between points</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="karta.crs.SphericalCRS">
<em class="property">class </em><code class="descclassname">karta.crs.</code><code class="descname">SphericalCRS</code><span class="sig-paren">(</span><em>radius</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#SphericalCRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.SphericalCRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Spherical geographic coordinate system defined by a radius.</p>
<p><strong>DEPRECATED</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>radius</strong> : float</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="karta.crs.SphericalCRS.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>lons</em>, <em>lats</em>, <em>az</em>, <em>dist</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#SphericalCRS.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.SphericalCRS.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward geodetic problem from a point</p>
</dd></dl>

<dl class="method">
<dt id="karta.crs.SphericalCRS.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><em>lons1</em>, <em>lats1</em>, <em>lons2</em>, <em>lats2</em>, <em>radians=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/crs.html#SphericalCRS.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.crs.SphericalCRS.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse geodetic problem to find the geodesic between points</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="geodesy-karta-geodesy">
<h3>Geodesy (<code class="docutils literal"><span class="pre">karta.geodesy</span></code>)<a class="headerlink" href="#geodesy-karta-geodesy" title="Permalink to this headline">¶</a></h3>
<p>Functions from <code class="docutils literal"><span class="pre">karta.geodesy</span></code> should generally be accessed through a <code class="docutils literal"><span class="pre">CRS</span></code>
subclass rather than directly.</p>
<span class="target" id="module-karta.geodesy"></span><p>Defines basic geodetic operations on a spheres and ellipsoids.</p>
<dl class="function">
<dt id="karta.geodesy.check_in_segment_range">
<code class="descclassname">karta.geodesy.</code><code class="descname">check_in_segment_range</code><span class="sig-paren">(</span><em>pt</em>, <em>segment</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#check_in_segment_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.check_in_segment_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether <em>pt</em> is within the lon/lat range of <em>segment</em></p>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.ellipsoidal_area">
<code class="descclassname">karta.geodesy.</code><code class="descname">ellipsoidal_area</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#ellipsoidal_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.ellipsoidal_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Area of a single quatrilateral defined by two meridians, the equator,
and another geodesic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : float (degrees)</p>
<blockquote>
<div><p>longitude of first meridian</p>
</div></blockquote>
<p><strong>b</strong> : float (degrees)</p>
<blockquote>
<div><p>longitude of second meridian</p>
</div></blockquote>
<p><strong>x1</strong> : float (degrees)</p>
<blockquote>
<div><p>longitude of geodesic segment start</p>
</div></blockquote>
<p><strong>y1</strong> : float (degrees)</p>
<blockquote>
<div><p>latitude of geodesic segment start</p>
</div></blockquote>
<p><strong>x2</strong> : float (degrees)</p>
<blockquote>
<div><p>longitude of geodesic segment end</p>
</div></blockquote>
<p><strong>y2</strong> : float (degrees)</p>
<blockquote class="last">
<div><p>latitude of geodesic segment end</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.ellipsoidal_forward">
<code class="descclassname">karta.geodesy.</code><code class="descname">ellipsoidal_forward</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>x</em>, <em>y</em>, <em>azimuth</em>, <em>distance</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#ellipsoidal_forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.ellipsoidal_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the destination reached starting from a point and travelling
in a specified direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a: float</strong></p>
<blockquote>
<div><p>equatorial radius</p>
</div></blockquote>
<p><strong>b: float</strong></p>
<blockquote>
<div><p>polar radius</p>
</div></blockquote>
<p><strong>x: float (degrees)</strong></p>
<blockquote>
<div><p>longitude at start</p>
</div></blockquote>
<p><strong>y: float (degrees)</strong></p>
<blockquote>
<div><p>latitude at start</p>
</div></blockquote>
<p><strong>azimuth: float (radians)</strong></p>
<blockquote>
<div><p>direction travelled from point</p>
</div></blockquote>
<p><strong>distnce: float</strong></p>
<blockquote>
<div><p>distance travelled</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">x2: float (degrees)</p>
<blockquote>
<div><p>longitude at destination</p>
</div></blockquote>
<p>y2: float (degrees)</p>
<blockquote>
<div><p>latitude at destination</p>
</div></blockquote>
<p>back_az: float (degrees)</p>
<blockquote>
<div><p>back azimuth from destination</p>
</div></blockquote>
<p class="last">Algorithm due to Karney, C.F.F. &#8220;Algorithms for geodesics&#8221;, J. Geod (2013)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.ellipsoidal_inverse">
<code class="descclassname">karta.geodesy.</code><code class="descname">ellipsoidal_inverse</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em>, <em>tol=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#ellipsoidal_inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.ellipsoidal_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the shortest path (geodesic) between two points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a: float</strong></p>
<blockquote>
<div><p>equatorial radius</p>
</div></blockquote>
<p><strong>b: float</strong></p>
<blockquote>
<div><p>polar radius</p>
</div></blockquote>
<p><strong>x1: float (degrees)</strong></p>
<blockquote>
<div><p>first longitude</p>
</div></blockquote>
<p><strong>y1: float (degrees)</strong></p>
<blockquote>
<div><p>first latitude</p>
</div></blockquote>
<p><strong>x2: float (degrees)</strong></p>
<blockquote>
<div><p>second longitude</p>
</div></blockquote>
<p><strong>y2: float (degrees)</strong></p>
<blockquote>
<div><p>second latitude</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">az: float (degrees)</p>
<blockquote>
<div><p>forward azimuth from first point</p>
</div></blockquote>
<p>back_az: float (degrees)</p>
<blockquote>
<div><p>back azimuth from second point</p>
</div></blockquote>
<p>distance: float</p>
<blockquote>
<div><p>distance between points</p>
</div></blockquote>
<p class="last">Algorithm due to Karney, C.F.F. &#8220;Algorithms for geodesics&#8221;, J. Geod (2013)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.fzero_brent">
<code class="descclassname">karta.geodesy.</code><code class="descname">fzero_brent</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>f</em>, <em>tol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#fzero_brent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.fzero_brent" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a function to find a bracketed root</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : float</p>
<blockquote>
<div><p>left bracket</p>
</div></blockquote>
<p><strong>b</strong> : float</p>
<blockquote>
<div><p>right bracket</p>
</div></blockquote>
<p><strong>f</strong> : callable</p>
<blockquote>
<div><p>function to find zero of</p>
</div></blockquote>
<p><strong>tol</strong> : float</p>
<blockquote>
<div><p>error tolerance</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>ValueError</strong></p>
<blockquote>
<div><p>if root is not bracketed</p>
</div></blockquote>
<p><strong>RuntimeError</strong></p>
<blockquote class="last">
<div><p>if maximum iterations exceeded</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.intersection_spherical">
<code class="descclassname">karta.geodesy.</code><code class="descname">intersection_spherical</code><span class="sig-paren">(</span><em>segment1</em>, <em>segment2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#intersection_spherical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.intersection_spherical" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the intersection between two great circle segments on a sphere</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>segment1, segment2</strong> : tuple of tuples</p>
<blockquote class="last">
<div><p>Tuples of the form ((x1, y1), (x2, y2)) describing line segements</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.isbetween_circular">
<code class="descclassname">karta.geodesy.</code><code class="descname">isbetween_circular</code><span class="sig-paren">(</span><em>x</em>, <em>x0</em>, <em>x1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#isbetween_circular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.isbetween_circular" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether <em>x</em> is between <em>x0</em> and <em>x1</em> on a circle [-180, 180)</p>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.reduce_deg">
<code class="descclassname">karta.geodesy.</code><code class="descname">reduce_deg</code><span class="sig-paren">(</span><em>deg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#reduce_deg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.reduce_deg" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>deg</em> in the range [-180, 180)</p>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.solve_astroid">
<code class="descclassname">karta.geodesy.</code><code class="descname">solve_astroid</code><span class="sig-paren">(</span><em>a</em>, <em>f</em>, <em>lambda12</em>, <em>phi1</em>, <em>phi2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#solve_astroid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.solve_astroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to provide an initial guess to the inverse problem in the case of
nearly antipodal points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a: float</strong></p>
<blockquote>
<div><p>equatorial radius</p>
</div></blockquote>
<p><strong>f: float</strong></p>
<blockquote>
<div><p>flattening</p>
</div></blockquote>
<p><strong>lambda12: float (radians)</strong></p>
<blockquote>
<div><p>difference in longitudes</p>
</div></blockquote>
<p><strong>phi1: float (radians)</strong></p>
<blockquote>
<div><p>first latitude</p>
</div></blockquote>
<p><strong>phi2: float (radians)</strong></p>
<blockquote>
<div><p>second latitude</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">alpha1: float (radians)</p>
<blockquote>
<div><p>estimated forward azimuth at first point</p>
</div></blockquote>
<p class="last">see Karney (2013) J. Geod. for details</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.solve_vicenty">
<code class="descclassname">karta.geodesy.</code><code class="descname">solve_vicenty</code><span class="sig-paren">(</span><em>a</em>, <em>f</em>, <em>lambda12</em>, <em>phi1</em>, <em>phi2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#solve_vicenty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.solve_vicenty" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to provide an initial guess to the inverse problem by solving the
corresponding problem on a sphere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a: float</strong></p>
<blockquote>
<div><p>equatorial radius</p>
</div></blockquote>
<p><strong>f: float</strong></p>
<blockquote>
<div><p>flattening</p>
</div></blockquote>
<p><strong>lambda12: flat(radians)</strong></p>
<blockquote>
<div><p>difference in longitudes</p>
</div></blockquote>
<p><strong>phi1: float (radians)</strong></p>
<blockquote>
<div><p>first latitude</p>
</div></blockquote>
<p><strong>phi2: float (radians)</strong></p>
<blockquote>
<div><p>second latitude</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">alpha1: float (radians)</p>
<blockquote>
<div><p>forward azimuth at first point</p>
</div></blockquote>
<p>alpha2: float (radians)</p>
<blockquote>
<div><p>forward azimuth at second point</p>
</div></blockquote>
<p>s12: float</p>
<blockquote>
<div><p>distance between points</p>
</div></blockquote>
<p class="last">see Karney (2013) J. Geod. for details</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.spherical_area">
<code class="descclassname">karta.geodesy.</code><code class="descname">spherical_area</code><span class="sig-paren">(</span><em>r</em>, <em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#spherical_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.spherical_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Area between a geodesic and the equator on a sphere</p>
</dd></dl>

<dl class="function">
<dt id="karta.geodesy.unroll_deg">
<code class="descclassname">karta.geodesy.</code><code class="descname">unroll_deg</code><span class="sig-paren">(</span><em>deg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/karta/geodesy.html#unroll_deg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#karta.geodesy.unroll_deg" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>deg</em> in the range [0, 360)</p>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="tutorial.html" class="btn btn-neutral" title="Karta tutorial" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Nat Wilson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.6.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>